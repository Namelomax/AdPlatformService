# AdPlatformService  
Веб-сервис для подбора рекламных площадок по регионам.

Инструкция для запуска.

При разработке использовалась .NET SDK 9.0

## Запуск сервиса  

### 1. Локальный запуск (localhost)  
1. Запустите сервис командой:  
  
   dotnet run, предворительно перейдя в директорию проекта(AdPlatformService)
   
2. По умолчанию сервис будет доступен по адресу:
  
   http://localhost:5285
   
### 2. Запуск с доступом по IP (в локальной сети)  
1. Определите локальный IP-адрес компьютера:  
    Например с помощью командной строки (cmd):  
    
    ipconfig  

1. Запустите сервис, указав этот IP:
  
   dotnet run --urls "http://192.168.1.100:5285"
   
2. Теперь к сервису можно обращаться из локальной сети:
  
   http://192.168.1.100:5285

## Примеры API-запросов  
### 1. Загрузка данных из файла (POST)  
curl -X POST "http://localhost:5285/api/ad-platforms/load" -H "Content-Type: application/json" -d "\"Ad.txt\""

Этот метод загружает рекламные площадки из файла.  
#### Ответ (успешная загрузка):  
Данные загружены
#### Ответ (ошибка загрузки):  
Ошибка загрузки: Сообщение об ошибке
### 1. Получение площадок по локации:  
curl -X GET "http://localhost:5285/api/ad-platforms/search?location=/ru/svrd/revda"
Ответ:  
["Ревдинский рабочий", "Крутая реклама", "Яндекс.Директ"]

### 2. Запрос по /ru/msk:
curl -X GET "http://localhost:5285/api/ad-platforms/search?location=/ru/msk"
Ответ:  
["Газета уральских москвичей", "Яндекс.Директ"]

### 3. Запрос с неизвестной локацией:  
curl -X GET "http://localhost:5285/api/ad-platforms/search?location=/unknown"
Ответ:  
Нет доступных рекламных площадок для данной локации.

### 3. Запрос с неизвестной локацией:  
curl -X GET "http://localhost:5285/api/ad-platforms/search?location="
Ответ:  
Неправильный формат локации.

## Запуск сервиса  
1. Запустите тест командой:  
  
   dotnet test, предворительно перейдя в директорию теста(AdPlatformService.Tests)